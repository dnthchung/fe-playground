Here’s an updated version of the `README.md` file, replacing Spring Boot with Express.js while retaining Clerk integration:

---

# Getting Started

This project demonstrates how to integrate **Clerk** with **Express.js** and **Next.js**.

- The **Express.js** application acts as a resource server.
- The **Next.js** application acts as a client.
- **Clerk** is used for authentication.
- **Clerk Webhooks** are used to sync user data to the application.

---

## Structure

- `express-app` - Express.js application that acts as a resource server.
- `nextjs` - Next.js application that acts as a client (located in `src/main/frontend`).

---

## Prerequisites

1. **Create a Clerk Account** and add a new application to retrieve the API Keys.
   - Go to **Developers -> API Keys** to retrieve the keys.
2. **Expose your local server** to the internet using **Ngrok** (or use a static domain).

   - This is necessary to test the webhook URL.

3. **Setup Webhook URL in Clerk**:
   - Navigate to **Configure -> Webhooks** in your Clerk dashboard.
   - Add the webhook URL: `https://<domain-from-ngrok>/api/clerk/webhook`.

---

## Environment Variables

### Express.js (`express-app/.env`)

Rename `.env.example` to `.env` and configure the following variables:

```env
WEBHOOK_SECRET=your-webhook-secret
JWKS_URL=your-clerk-jwks-url
```

### Next.js (`nextjs/.env`)

Rename `.env.example` to `.env` and configure the following variables:

```env
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=your-clerk-publishable-key
CLERK_SECRET_KEY=your-clerk-secret-key
NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_UP_URL=/sign-up
API_URL=https://<domain-from-ngrok-or-your-static-domain>
```

---

## Running the Application

### Step 1: Start the Express.js application

1. Navigate to the `express-app` folder.
2. Install dependencies:
   ```bash
   npm install
   ```
3. Run the application:
   ```bash
   npm start
   ```

### Step 2: Expose the Express.js application using Ngrok

Run Ngrok to expose the Express.js application to the internet:

```bash
ngrok http 3000
```

Take note of the public URL generated by Ngrok.

### Step 3: Update the Webhook URL in Clerk

Set the webhook URL in Clerk to:

```
https://<ngrok-domain>/api/clerk/webhook
```

### Step 4: Start the Next.js application

1. Navigate to the `nextjs` folder.
2. Install dependencies:
   ```bash
   npm install
   ```
3. Run the application:
   ```bash
   npm run dev
   ```

---

## Reference Documentation

- [Clerk - Next.js Quickstart](https://clerk.dev/docs/nextjs/quickstart)
- [Sync Clerk data to your application with webhooks](https://clerk.dev/docs/webhooks)
- [OAuth 2.0 Resource Server JWT](https://oauth.net/2/jwt/)

---

## Contributing

Use the following commit message prefixes for contributions:

- `chore:` Updates that don’t significantly affect the project (e.g., refactoring configs).
- `feat:` Adding a new feature.
- `fix:` Fixing a bug.
- `docs:` Adding or updating documentation.
- `perf:` Improving performance.
- `refactor:` Refactoring code without changing its behavior.
- `style:` Changes related to style that don’t affect logic (e.g., front-end UI changes).

---

This updated README replaces Spring Boot with Express.js while retaining Clerk integration. Let me know if you'd like additional adjustments!
